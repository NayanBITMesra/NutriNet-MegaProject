{%extends "blog/base.html"%}
{% load crispy_forms_tags %}
{%block content%}
    {% if user.is_authenticated %}
    <div class="container-fluid">
        <div class="row">
                <div class= "col-8" style="height: 680px;">
                    <!--Upper Box-->
                    <div class="row-7">
                       <div class = "row-7-in">
                           <div class = "graph-bar">
                            <h3></h3>Your Personalized HealthCare Assistant NutriBot
                            </div>
                            <button type="button" class = "btn btn-success" onclick="location.reload()">
                                Refresh
                            </button>
                            </div>
                            <div class="matrix-text">
                            {{ chat_history|linebreaks }}
                            </div>
                       </div>
                    </div>
                    <!--Lower Reponse Box-->
                    <div class="row-5">
                        <div class = "row-5-in">
                          <form method="post" action="{% url 'blog-home' %}">
                            {% csrf_token %}                  
                            <div class="chatform">
                                <div class="mb-3">
                                    <label for="avg" class="form-label">BPM Average Heart Rate from the Week:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Time of Highest Spike in Heart Rate:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Height:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Weight:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Age:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Medical History:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    
                                    <label for="avg" class="form-label">Glucose Lvl:</label>
                                    <input type="text" class="form-control" name="avg" required>
                                  </div>
                        
                                  <div class="mb-3">
                                    <label for="avg" class="form-label">Sp O2:</label>
                                    <input type="text" class="form-control" name="spo" required>
                                  </div>
                            
                                  <!-- Repeat similar input fields for other attributes -->
                            
                                  <button type="submit" class="btn btn-primary">Send</button>
                                </div>
                        </div>
                      </form>

                    </div>
                </div>
                <!--Side Column-->
                <div class="col-3"  style="height: 680px; padding-left: 0; padding-right: 0;">
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item"  style = " border-radius: 17px; background: rgba(255,255,255,0,3);">
                          <h2 class="accordion-header"  id="headingOne" style = "background: rgba(255,255,255,0.7); border-radius:10px;" >
                            <button class="accordion-button"  style = "border-radius: 10px 10px 0 0; background: rgba(0,0,0,0.7); color:white;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                              Graph
                            </button>
                          </h2>
                          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body" >
                              Plotly, an advanced data visualization tool, collaborates seamlessly with Arduino to orchestrate a visually stunning
                                representation of data. With a meticulous integration, Plotly reads data streams from Arduino, transforming them into
                                an elegant graph that captures the intricacies of the underlying information.  The synergy between Plotly and Arduino
                                presents a seamless blend of technological prowess and aesthetic finesse, where raw data is transformed into a graph
                                that speaks volumes through its graphical brilliance.
                            </div>
                              <div>
                                  <a href="{% url 'graph'%}" class="button" style="margin-left: 150px;" >Graph</a>
                              </div>
                          </div>
  
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" style = " background: rgba(0,0,0,0.7); color:white;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                              Accordion Item #2
                            </button>
                          </h2>
                          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                              <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" style = "border-radius: 0 0 10px 10px; background: rgba(0,0,0,0.7); color:white;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                              Accordion Item #3
                            </button>
                          </h2>
                          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                              <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                            </div>
                          </div>
                        </div>
                      </div>
                </div>
        </div>
    </div>
    <style>
        .col-8 {
            height: 680px;
            overflow-y: scroll; /* Add scroll for the column */
        }
    
        .row-5-in {
            padding: 20px; /* Add padding to the form content */
        }
    
        form {
            max-height: 100%; /* Ensure the form doesn't exceed the height of col-8 */
            overflow-y: auto; /* Add scroll for the form */
        }
    
        /* Add any other styling as needed */
    </style>
    

    {% endif %}

{%endblock content%}